var marqx_fix = { left: null, cw: 0 };(function (c) { c.marquee = { version: "1.0.01" }; c.fn.marquee = function (p) { var a = "string" == typeof arguments[0] && arguments[0], q = a && Array.prototype.slice.call(arguments, 1) || arguments, g = 0 == this.length ? null : c.data(this[0], "marquee"); if (g && a && this.length) { if ("object" == a.toLowerCase()) return g; if (g[a]) { var f; this.each(function (l) { var b = c.data(this, "marquee")[a].apply(g, q); if (0 == l && b) if (b.jquery) f = c([]).add(b); else return f = b, !1; else b && b.jquery && (f = f.add(b)) }); return f || this } return this } return this.each(function () { new c.Marquee(this, p) }) }; c.Marquee = function (p, a) { function q(r) { if (0 < e.filter("." + a.cssShowing).length) return !1; var b = e.eq(r); c.isFunction(a.beforeshow) && a.beforeshow.apply(h, [d, b]); r = { top: ("top" == a.yScroll ? "-" : "+") + b.outerHeight() + "px", left: 0 }; d.data("marquee.showing", !0); b.addClass(a.cssShowing); b.css(r).animate({ top: "0px" }, a.showSpeed, a.fxEasingShow, function () { c.isFunction(a.show) && a.show.apply(h, [d, b]); d.data("marquee.showing", !1); g(b) }) } function g(b, c) { if (1 == k) return !1; c = c || a.pauseSpeed; b.outerWidth() > d.innerWidth() ? setTimeout(function () { if (1 == k) return !1; var c = b.outerWidth(), d = -1 * c, e = parseInt(b.css("left"), 10); b.animate({ left: d + "px" }, (c + e) * a.scrollSpeed, a.fxEasingScroll, function () { f(b) }) }, c) : 1 < e.length && setTimeout(function () { if (1 == k) return !1; b.animate({ top: ("top" == a.yScroll ? "+" : "-") + d.innerHeight() - 100 + "px" }, a.showSpeed, a.fxEasingScroll); f(b) }, c) } function f(b) { c.isFunction(a.aftershow) && a.aftershow.apply(h, [d, b]); b.removeClass(a.cssShowing); t() } function l() { k = !0; 1 != d.data("marquee.showing") && e.filter("." + a.cssShowing).dequeue().stop() } function b() { k = !1; 1 != d.data("marquee.showing") && g(e.filter("." + a.cssShowing), 1) } function t() { m++; if (m >= e.length) { if (!isNaN(a.loop) && 0 < a.loop && ++u >= a.loop) return !1; m = 0 } q(m) } a = c.extend({}, c.Marquee.defaults, a); var h = this, d = c(p), e = d.find("> li"), m = -1, n = !1, k = !1, u = 0; c.data(d[0], "marquee", h); this.pause = function () { n = !0; l() }; this.resume = function () { n = !1; b() }; this.update = function () { var a = e.length; e = d.find("> li"); 1 >= a && b() }; a.pauseOnHover && d.hover(function () { if (n) return !1; l() }, function () { if (n) return !1; b() }); c.isFunction(a.init) && a.init.apply(h, [d, a]); t() }; c.Marquee.defaults = { yScroll: "top", showSpeed: 850, scrollSpeed: 12, pauseSpeed: 5E3, pauseOnHover: !0, loop: -1, fxEasingShow: "swing", fxEasingScroll: "linear", cssShowing: "marquee-showing", init: null, beforeshow: null, show: null, aftershow: null } })(jQuery);